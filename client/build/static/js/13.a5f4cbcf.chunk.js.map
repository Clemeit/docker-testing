{"version":3,"sources":["components/friends/Friends.jsx"],"names":["Friends","React","useState","onError","setShowErrorMessage","openPanels","popupMessage","setPopupMessage","showErrorMessage","useEffect","Log","JSON","stringify","localStorage","getItem","name","content","property","small","showTitle","showSubtitle","showButtons","hideOnMobile","hideVote","title","subtitle","page","message","popMessage","className","style","minHeight","width","id","maxWidth","type","fontSize","marginBottom","justifyContent","onClick","window","location","reload","setItem","pushBottom"],"mappings":"4MAuHeA,UA9GC,WAEd,IAEA,EAAqBC,IAAMC,SAAS,CAClC,cAAC,IAAD,CAAcC,QAAS,kBAAMC,GAAoB,QAD5CC,EAAP,oBAKI,EAAkCJ,IAAMC,SAAS,MAArD,mBAAKI,EAAL,KAAmBC,EAAnB,KAGA,EAAgDN,IAAMC,UAAS,GAA/D,mBAAOM,EAAP,KAAyBJ,EAAzB,KAgBA,OATAH,IAAMQ,WAAU,WACVD,GACFE,YACE,6BACAC,KAAKC,UAAUC,aAAaC,QAAQ,oBAGvC,CAACN,IAGF,gCACE,eAAC,IAAD,WACE,gCA7BQ,iBA8BR,sBACEO,KAAK,cACLC,QAAQ,4FAEV,sBAAMC,SAAS,WAAWD,QAAQ,6BAClC,sBAAMC,SAAS,eAAeD,QAAQ,cACtC,sBAAMC,SAAS,gBAAgBD,QAAQ,gCAEzC,cAAC,IAAD,CACEE,OAAO,EACPC,WAAW,EACXC,cAAc,EACdC,aAAa,EACbC,cAAc,EACdC,UAAU,EACVC,MAAM,eACNC,SAAS,6BAEX,cAAC,IAAD,CACEC,KAAM,UACNC,QAASrB,EACTsB,WAAY,WACVrB,EAAgB,SAGpB,sBACEsB,UAAU,oBACVC,MAAO,CAAEC,UAAW,QAASC,MAAO,QAFtC,UAIE,cAAC,IAAD,CAAeN,KAAK,YACpB,qBACEO,GAAG,sBACHJ,UAAU,uCAEXrB,GACC,qBAAKsB,MAAO,CAAEI,SAAU,QAASF,MAAO,QAAxC,SACE,cAAC,IAAD,CACEG,KAAK,QACLX,MAAM,kBACNG,QACE,uHAGE,sBACEE,UAAU,0BACVC,MAAO,CACLM,SAAU,SACVC,aAAc,QACdC,eAAgB,SALpB,UAQE,qBACET,UAAU,iDACVU,QAAS,kBAAMC,OAAOC,SAASC,UAFjC,qBAMA,qBACEb,UAAU,gDACVU,QAAS,kBA5E3B1B,aAAa8B,QAAQ,eAAgB,WACrCH,OAAOC,SAASC,UAyEA,sCASNN,SAAU,IACVQ,YAAY,MAIlB,qBAAKf,UAAU,wBAAf,SAAwCxB,IACxC,qBAAKwB,UAAU","file":"static/js/13.a5f4cbcf.chunk.js","sourcesContent":["import React from \"react\";\r\nimport { Helmet } from \"react-helmet\";\r\nimport Banner from \"../global/Banner\";\r\nimport PopupMessage from \"../global/PopupMessage\";\r\nimport BannerMessage from \"../global/BannerMessage\";\r\nimport FriendsPanel from \"./FriendsPanel\";\r\nimport PageMessage from \"../global/PageMessage\";\r\nimport { Log } from \"../../services/CommunicationService\";\r\n\r\nconst Friends = () => {\r\n  // TODO: If this server is currently offline, don't bother checking for characters\r\n  const TITLE = \"Friends List\";\r\n\r\n  const [openPanels] = React.useState([\r\n    <FriendsPanel onError={() => setShowErrorMessage(true)} />,\r\n  ]);\r\n\r\n  // Popup message\r\n  var [popupMessage, setPopupMessage] = React.useState(null);\r\n\r\n  // PageMessage\r\n  const [showErrorMessage, setShowErrorMessage] = React.useState(false);\r\n\r\n  function clearFriendsList() {\r\n    localStorage.setItem(\"friends-list\", \"[]\");\r\n    window.location.reload();\r\n  }\r\n\r\n  React.useEffect(() => {\r\n    if (showErrorMessage) {\r\n      Log(\r\n        \"Friend error message shown\",\r\n        JSON.stringify(localStorage.getItem(\"friends-list\"))\r\n      );\r\n    }\r\n  }, [showErrorMessage]);\r\n\r\n  return (\r\n    <div>\r\n      <Helmet>\r\n        <title>{TITLE}</title>\r\n        <meta\r\n          name=\"description\"\r\n          content=\"What are your friends up to? Build your own friends list to quickly check who's online!\"\r\n        />\r\n        <meta property=\"og:image\" content=\"/icons/friends-512px.png\" />\r\n        <meta property=\"og:site_name\" content=\"DDO Audit\" />\r\n        <meta property=\"twitter:image\" content=\"/icons/friends-512px.png\" />\r\n      </Helmet>\r\n      <Banner\r\n        small={true}\r\n        showTitle={true}\r\n        showSubtitle={true}\r\n        showButtons={false}\r\n        hideOnMobile={true}\r\n        hideVote={true}\r\n        title=\"Friends List\"\r\n        subtitle=\"Are Your Friends Online?\"\r\n      />\r\n      <PopupMessage\r\n        page={\"friends\"}\r\n        message={popupMessage}\r\n        popMessage={() => {\r\n          setPopupMessage(null);\r\n        }}\r\n      />\r\n      <div\r\n        className=\"content-container\"\r\n        style={{ minHeight: \"700px\", width: \"100%\" }}\r\n      >\r\n        <BannerMessage page=\"friends\" />\r\n        <div\r\n          id=\"top-content-padding\"\r\n          className=\"top-content-padding hide-on-mobile\"\r\n        />\r\n        {showErrorMessage && (\r\n          <div style={{ maxWidth: \"706px\", width: \"100%\" }}>\r\n            <PageMessage\r\n              type=\"error\"\r\n              title=\"Something Broke\"\r\n              message={\r\n                <>\r\n                  Try again later. If you still see this message, try clearing\r\n                  your friends list.\r\n                  <div\r\n                    className=\"action-button-container\"\r\n                    style={{\r\n                      fontSize: \"0.9rem\",\r\n                      marginBottom: \"-25px\",\r\n                      justifyContent: \"right\",\r\n                    }}\r\n                  >\r\n                    <div\r\n                      className=\"primary-button should-invert full-width-mobile\"\r\n                      onClick={() => window.location.reload()}\r\n                    >\r\n                      Refresh\r\n                    </div>\r\n                    <div\r\n                      className=\"danger-button should-invert full-width-mobile\"\r\n                      onClick={() => clearFriendsList()}\r\n                    >\r\n                      Clear Friends List\r\n                    </div>\r\n                  </div>\r\n                </>\r\n              }\r\n              fontSize={1.3}\r\n              pushBottom={true}\r\n            />\r\n          </div>\r\n        )}\r\n        <div className=\"multi-panel-container\">{openPanels}</div>\r\n        <div className=\"top-content-padding hide-on-mobile\" />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Friends;\r\n"],"sourceRoot":""}