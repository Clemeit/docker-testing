(this.webpackJsonpddo_audit=this.webpackJsonpddo_audit||[]).push([[16],{508:function(e,t,a){"use strict";a.r(t);var r=a(4),n=a(0),s=a.n(n),c=a(33),i=a(48),o=a(36),l=a(44),h=a(13),f=a(11),d=a(61),u=a(12),j=a(51),m=a(16),x=a(14),b=a(1),p=function(e){var t=[{server:"Argonnessen",activeTotal:21347,activeTransfersFrom:131,activeTransfersTo:0,uniqueTotal:68220,totalTransfersFrom:1994,totalTransfersTo:0},{server:"Cannith",activeTotal:11896,activeTransfersFrom:419,activeTransfersTo:0,uniqueTotal:43260,totalTransfersFrom:4123,totalTransfersTo:0},{server:"Ghallanda",activeTotal:28168,activeTransfersFrom:1143,activeTransfersTo:0,uniqueTotal:65831,totalTransfersFrom:9793,totalTransfersTo:0},{server:"Khyber",activeTotal:11595,activeTransfersFrom:174,activeTransfersTo:0,uniqueTotal:48287,totalTransfersFrom:2230,totalTransfersTo:51},{server:"Orien (FREE)",activeTotal:32862,activeTransfersFrom:5,activeTransfersTo:2259,uniqueTotal:101827,totalTransfersFrom:571,totalTransfersTo:20670},{server:"Sarlona (FREE)",activeTotal:11420,activeTransfersFrom:73,activeTransfersTo:335,uniqueTotal:55074,totalTransfersFrom:1243,totalTransfersTo:5059},{server:"Thelanis",activeTotal:12913,activeTransfersFrom:131,activeTransfersTo:0,uniqueTotal:52514,totalTransfersFrom:2111,totalTransfersTo:0},{server:"Wayfinder",activeTotal:8079,activeTransfersFrom:126,activeTransfersTo:0,uniqueTotal:22002,totalTransfersFrom:2055,totalTransfersTo:0}],a=s.a.useState(null),n=Object(r.a)(a,2),c=n[0],i=n[1];s.a.useEffect((function(){var e=[];t.forEach((function(t,a){"Hardcore"!==t.Name&&e.push(Object(x.a)({},t))})),i(e)}),[]);var o=function(e,t,a){return e<=0||t<=0?Object(b.jsx)("span",{style:{color:"var(--text-faded)"},children:"N/A"}):Object(b.jsxs)("span",{children:[e," ",l(e,t,a)]})},l=function(e,t,a){var r=Math.round(e/t*1e3)/10,n="";return r>=1&&(n=a),Object(b.jsxs)("span",{className:n,children:["(",r,"%)"]})};return Object(b.jsxs)("table",{className:"content-table",children:[Object(b.jsx)("thead",{children:Object(b.jsxs)("tr",{children:[Object(b.jsx)("th",{children:"Server"}),Object(b.jsx)("th",{children:"Active Characters"}),Object(b.jsx)("th",{children:"Active Transfers From"}),Object(b.jsx)("th",{children:"Active Transfers To"}),Object(b.jsx)("th",{children:"Total Characters"}),Object(b.jsx)("th",{children:"Total Transfers From"}),Object(b.jsx)("th",{children:"Total Transfers To"})]})}),Object(b.jsx)("tbody",{children:c&&c.map((function(e,t){var a=e.server,r=e.uniqueTotal,n=e.activeTotal,s=e.totalTransfersTo,c=e.activeTransfersTo,i=e.totalTransfersFrom,l=e.activeTransfersFrom;return Object(b.jsxs)("tr",{children:[Object(b.jsxs)("td",{children:[a,"Orien"===a||"Sarlona"===a?" (FREE)":""]}),Object(b.jsx)("td",{style:{textAlign:"right"},children:n}),Object(b.jsx)("td",{style:{textAlign:"right"},children:o(l,n,"red-text")}),Object(b.jsx)("td",{style:{textAlign:"right"},children:o(c,n,"green-text")}),Object(b.jsx)("td",{style:{textAlign:"right"},children:r}),Object(b.jsx)("td",{style:{textAlign:"right"},children:o(i,r,"red-text")}),Object(b.jsx)("td",{style:{textAlign:"right"},children:o(s,r,"green-text")})]},t)}))})]})},T=a(60),v=a(220);t.default=function(){var e={weekday:"long",year:"numeric",month:"long",day:"numeric"},t=s.a.useState(null),a=Object(r.a)(t,2),n=a[0],x=a[1],O=s.a.useState(!0),g=Object(r.a)(O,2),y=g[0],w=g[1],A=s.a.useState(!0),E=Object(r.a)(A,2),F=E[0],B=E[1],N=s.a.useState(!1),C=Object(r.a)(N,2),S=C[0],M=C[1],D=s.a.useState(!1),_=Object(r.a)(D,2),k=_[0],q=_[1],L=s.a.useState(!1),Z=Object(r.a)(L,2),H=Z[0],I=Z[1];function R(){x({title:"Some data failed to load",message:"Some of the reports on this page may have failed to load. Please refresh the page. If the issue continues, report it.",icon:"warning",fullscreen:!1,reportMessage:"Failed to fetch data."})}var P=s.a.useState(!0),W=Object(r.a)(P,2),z=W[0],J=W[1],G=s.a.useState(!0),K=Object(r.a)(G,2),V=K[0],Y=K[1],Q=s.a.useState(null),U=Object(r.a)(Q,2),X=U[0],$=U[1],ee=s.a.useState(null),te=Object(r.a)(ee,2),ae=te[0],re=te[1],ne=s.a.useState(null),se=Object(r.a)(ne,2),ce=se[0],ie=se[1];return s.a.useEffect((function(){var e=setTimeout((function(){Object(u.a)("https://api.ddoaudit.com/population/transfersto_ignorehcl",5e3).then((function(e){e.forEach((function(e){e.data.forEach((function(e){"2023-02-08T15:00:00.000Z"===e.x&&e.y,e.y}))}))})).catch((function(e){R()})),Object(u.a)("https://api.ddoaudit.com/population/transfersto_active_ignorehcl",5e3).then((function(e){e.forEach((function(e){e.data.forEach((function(e){"2023-02-08T15:00:00.000Z"===e.x&&e.y,e.y}))}))})).catch((function(e){R()})),Object(u.a)("https://api.ddoaudit.com/population/transfersfrom_ignorehcl",5e3).then((function(e){e.forEach((function(e){e.data.forEach((function(e){"2023-02-08T15:00:00.000Z"===e.x&&e.y,e.y}))}))})).catch((function(e){R()})),Object(u.a)("https://api.ddoaudit.com/population/transfersfrom_active_ignorehcl",5e3).then((function(e){e.forEach((function(e){e.data.forEach((function(e){"2023-02-08T15:00:00.000Z"===e.x&&e.y,e.y}))}))})).catch((function(e){R()}))}),1e3);return function(){return clearTimeout(e)}}),[]),s.a.useEffect((function(){Object(u.a)("https://api.ddoaudit.com/population/transfercounts".concat(S?"_active":"").concat(y?"_ignorehcl":""),5e3).then((function(e){e.forEach((function(e){var t=0;e.data.forEach((function(e,a){"2023-02-07T00:00:00.000Z"===e.x&&(t=a)})),e.data=e.data.slice(t)})),V?e.forEach((function(e){var t=e.data[0].x,a=e.data[0].y;e.data.forEach((function(e){var r=e.y-a,n=Math.max((new Date(e.x).getTime()-new Date(t).getTime())/36e5,1);a=e.y,t=e.x,e.y=Math.round(Math.abs(r,0)/n)}))})):z&&e.forEach((function(e){var t=-1;e.data.forEach((function(e){"2023-02-08T15:00:00.000Z"===e.x&&(t=e.y),e.y=-1===t?0:Math.max(e.y-t,0)}))})),$(e.reverse())})).catch((function(e){R()}))}),[y,S,V,z]),s.a.useEffect((function(){Object(u.a)("https://api.ddoaudit.com/population/transfersto".concat(k?"_active":"").concat(F?"_ignorehcl":""),5e3).then((function(e){e.forEach((function(e){var t=0;e.data.forEach((function(e,a){"2023-02-07T00:00:00.000Z"===e.x&&(t=a)})),e.data=e.data.slice(t)})),V?e.forEach((function(e){var t=e.data[0].x,a=e.data[0].y;e.data.forEach((function(e){var r=e.y-a,n=Math.max((new Date(e.x).getTime()-new Date(t).getTime())/36e5,1);a=e.y,t=e.x,e.y=Math.round(Math.abs(r,0)/n)}))})):z&&e.forEach((function(e){var t=-1;e.data.forEach((function(e){"2023-02-08T15:00:00.000Z"===e.x&&(t=e.y),e.y=-1===t?0:Math.max(e.y-t,0)}))})),re(e.filter((function(e){return"Hardcore"!==e.id})).reverse())})).catch((function(e){R()}))}),[F,k,V,z]),s.a.useEffect((function(){Object(u.a)("https://api.ddoaudit.com/population/transfersfrom".concat(H?"_active_ignorehcl":""),5e3).then((function(e){e.forEach((function(e){var t=0;e.data.forEach((function(e,a){"2023-02-07T00:00:00.000Z"===e.x&&(t=a)})),e.data=e.data.slice(t)})),V?e.forEach((function(e){var t=e.data[0].x,a=e.data[0].y;e.data.forEach((function(e){var r=e.y-a,n=Math.max((new Date(e.x).getTime()-new Date(t).getTime())/36e5,1);a=e.y,t=e.x,e.y=Math.round(Math.abs(r,0)/n)}))})):z&&e.forEach((function(e){var t=-1;e.data.forEach((function(e){"2023-02-08T15:00:00.000Z"===e.x&&(t=e.y),e.y=-1===t?0:Math.max(e.y-t,0)}))})),ie(e.filter((function(e){return"Hardcore"!==e.id})).reverse())})).catch((function(e){R()}))}),[H,V,z]),s.a.useEffect((function(){var e=setTimeout((function(){return Object(f.a)("Transfers page","Page viewed (v3)")}),1e3);return function(){return clearTimeout(e)}}),[]),Object(b.jsxs)("div",{children:[Object(b.jsxs)(c.a,{children:[Object(b.jsx)("title",{children:"Server Transfers"}),Object(b.jsx)("meta",{name:"description",content:"Explore character transfer trends. Discover where characters are moving, which servers are gaining, and which servers are losing."}),Object(b.jsx)("meta",{property:"og:image",content:"/icons/logo-512px.png","data-react-helmet":"true"}),Object(b.jsx)("meta",{property:"twitter:image",content:"/icons/logo-512px.png","data-react-helmet":"true"})]}),Object(b.jsx)(o.a,{small:!0,showTitle:!0,showSubtitle:!0,showButtons:!1,hideOnMobile:!0,hideVote:!0,title:"Server Transfers",subtitle:"The Movement of Characters"}),Object(b.jsx)(i.a,{page:"transfers",message:n,popMessage:function(){x(null)}}),Object(b.jsxs)("div",{className:"content-container",children:[Object(b.jsx)(l.a,{page:"transfers"}),Object(b.jsx)(T.a,{classification:"inferred"}),Object(b.jsx)("div",{className:"top-content-padding-small shrink-on-mobile"}),Object(b.jsx)("div",{className:"content-cluster",style:{marginBottom:"2rem"},children:Object(b.jsx)(v.a,{fontSize:"1.4",title:"Historical Data",message:Object(b.jsx)(b.Fragment,{children:"These reports were frozen on April 30, 2023."})})}),Object(b.jsx)(h.a,{title:"Important Changes",description:Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("p",{children:"The original reports were rather confusing and led to a lot of misinformation being circulated. I've changed how the data is presented to be more in line with what players expected."}),Object(b.jsx)("p",{children:"For anyone curious, the reports now display the first derivative of the underlying data. You can swap between the two methods with the toggle button below."}),Object(b.jsx)(j.a,{className:"wide",textA:"New Reports (Instantaneous)",textB:"Old Reports (Cumulative)",isA:V,isB:!V,doA:function(){Y(!0)},doB:function(){Y(!1)}}),!V&&Object(b.jsxs)("label",{style:{marginTop:"10px"},children:[Object(b.jsx)("input",{className:"input-radio",name:"showeligiblecharacters",type:"checkbox",checked:z,onChange:function(){J((function(e){return!e}))}}),"Zeroed at the start of the free transfer period"]})]}),smallBottomMargin:!0}),Object(b.jsx)(h.a,{title:"About Server Transfers",description:Object(b.jsxs)("span",{children:[Object(b.jsxs)("ul",{children:[Object(b.jsx)("li",{children:'A "transfer character" is defined as a character that is currently playing on a different server than the one they were created on.'}),Object(b.jsx)("li",{children:Object(b.jsx)("span",{className:"lfm-number",children:"A transfer is counted when the transferred character logs in for the first time on the new server, NOT at the time of the transfer being completed."})}),Object(b.jsxs)("li",{children:["This is a experimental feature, and it deals with a new set of data."," ",Object(b.jsx)("span",{className:"lfm-number",children:"There may be inconsistencies."})]}),Object(b.jsxs)("li",{children:["Information about"," ",Object(b.jsx)("span",{className:"faux-link",onClick:function(){return Object(f.a)("Transfers page","Read about active characters"),void x({title:"Active Characters",message:Object(b.jsxs)("span",{children:['We consider a character "active" when they meet ALL of the following criteria:',Object(b.jsxs)("ul",{children:[Object(b.jsx)("li",{children:"A character has moved areas (public or private) within 2 days of last being online, AND"}),Object(b.jsx)("li",{children:"A character has run a quest (solo or in a group) within 7 days of last being online, AND"}),Object(b.jsx)("li",{children:"A character has increased in level within 20 days of last being online (max-level characters are excluded)"})]}),Object(b.jsx)("p",{children:"Transfering servers does not directly affect any of these."}),Object(b.jsxs)("p",{className:"lfm-number",children:["This is an art, not a science. If you have suggestions for improving this algorithm, ",Object(b.jsx)(m.a,{to:"/suggestions",children:"please let me know"}),"."]})]}),icon:"info",fullscreen:!0})},children:'"active characters"'}),"."]})]}),Object(b.jsx)("div",{style:{display:"flex",flexDirection:"row",flexWrap:"wrap",justifyContent:"space-between"},children:Object(b.jsx)("div",{style:{display:"flex",flexDirection:"column",gap:"7px"},children:Object(b.jsx)("span",{children:"Thanks, Clemeit"})})})]}),smallBottomMargin:!0}),Object(b.jsx)(h.a,{title:"Summary Table",description:Object(b.jsx)("span",{children:"Total transfer counts and transfer counts as a percentage of total server population. Hardcore League is ignored completely. Some information is unavailable or statistically insignificant."}),children:Object(b.jsx)(p,{})}),Object(b.jsx)(h.a,{title:"Total Counts",description:Object(b.jsxs)(b.Fragment,{children:[V?Object(b.jsxs)("p",{children:["An approximation of the number of character transfers per hour."," ",Object(b.jsx)("span",{className:"lfm-number",children:"Transfers are counted the first time the character logs in, NOT necessarily when the transfer is made."})]}):Object(b.jsxs)("p",{children:["The total number of transfer characters"," ",Object(b.jsx)("span",{className:"lfm-number",children:"online within the last 90 days"}),". This is a cumulative count."]}),Object(b.jsxs)("div",{style:{display:"flex",flexDirection:"row",flexWrap:"wrap",gap:"10px"},children:[Object(b.jsx)(j.a,{className:"wide",textA:"All Characters",textB:"Active Characters",isA:!S,isB:S,doA:function(){M(!1)},doB:function(){w(!0),M(!0)}}),Object(b.jsx)(j.a,{className:"wide".concat(S?" disabled":""),textA:"Exclude HCL Transfers",textB:"Include HCL Transfers",isA:y,isB:!y,doA:function(){w(!0)},doB:function(){w(!1),M(!1)}})]})]}),children:Object(b.jsx)(d.a,{curve:"linear",keys:null,indexBy:null,legendBottom:"Day",legendLeft:"Total Transfer Characters",data:X,title:"Transfer Characters",marginBottom:100,trendType:"quarter",noArea:!0,tooltipPrefix:"Day",padLeft:!0,yMin:"auto",dateOptions:e})}),Object(b.jsx)(h.a,{title:'Transfers "To"',description:Object(b.jsxs)(b.Fragment,{children:[V?Object(b.jsxs)("p",{children:["An approximation of the number of character transfers per hour"," ",Object(b.jsx)("i",{children:"to"})," each server. Servers with a high transfer count are gaining characters from other servers."," ",Object(b.jsx)("span",{className:"lfm-number",children:"Transfers are counted the first time the character logs in, NOT necessarily when the transfer is made."})]}):Object(b.jsxs)("p",{children:["The cumulative number of characters transferred ",Object(b.jsx)("i",{children:"to"})," each server"," ",Object(b.jsx)("span",{className:"lfm-number",children:"online within the last 90 days"}),". Servers with a high transfer count have gained characters from other servers. This is a cumulative count."]}),Object(b.jsxs)("div",{style:{display:"flex",flexDirection:"row",flexWrap:"wrap",gap:"10px"},children:[Object(b.jsx)(j.a,{className:"wide",textA:"All Characters",textB:"Active Characters",isA:!k,isB:k,doA:function(){q(!1)},doB:function(){B(!0),q(!0)}}),Object(b.jsx)(j.a,{className:"wide".concat(k?" disabled":""),textA:"Exclude HCL Transfers",textB:"Include HCL Transfers",isA:F,isB:!F,doA:function(){B(!0)},doB:function(){B(!1)}})]})]}),children:Object(b.jsx)(d.a,{curve:"linear",keys:null,indexBy:null,legendBottom:"Day",legendLeft:"Total Transfer Characters",data:ae,title:"Transfer Characters To",marginBottom:100,trendType:"quarter",noArea:!0,tooltipPrefix:"Day",padLeft:!0,yMin:"auto",dateOptions:e})}),Object(b.jsx)(h.a,{title:'Transfers "From"',description:Object(b.jsxs)(b.Fragment,{children:[V?Object(b.jsxs)("p",{children:["An approximation of the number of character transfers per hour"," ",Object(b.jsx)("i",{children:"from"})," each server. Servers with a high transfer count are losing characters to other servers."," ",Object(b.jsx)("span",{className:"lfm-number",children:"Transfers are counted the first time the character logs in, NOT necessarily when the transfer is made."})]}):Object(b.jsxs)("p",{children:["The cumulative number of characters transferred ",Object(b.jsx)("i",{children:"from"})," ","each server"," ",Object(b.jsx)("span",{className:"lfm-number",children:"online within the last 90 days"}),". Servers with a high transfer count have lost characters to other servers. This is a cumulative count."]}),Object(b.jsx)(j.a,{className:"wide",textA:"All Characters",textB:"Active Characters",isA:!H,isB:H,doA:function(){I(!1)},doB:function(){I(!0)}})]}),children:Object(b.jsx)(d.a,{curve:"linear",keys:null,indexBy:null,legendBottom:"Day",legendLeft:"Total Transfer Characters",data:ce,title:"Transfer Characters From",marginBottom:100,trendType:"quarter",noArea:!0,tooltipPrefix:"Day",padLeft:!0,yMin:"auto",dateOptions:e})})]})]})}}}]);
//# sourceMappingURL=16.cf355686.chunk.js.map